import knex from 'knex';
import { LucidModel, LucidRow } from '@ioc:Adonis/Lucid/Model';
import { QueryClientContract } from '@ioc:Adonis/Lucid/Database';
import { DBQueryCallback } from '@ioc:Adonis/Lucid/DatabaseQueryBuilder';
import { RelationQueryBuilderContract, RelationshipsContract } from '@ioc:Adonis/Lucid/Relations';
import { ModelQueryBuilder } from '../../QueryBuilder';
/**
 * Base query builder for ORM Relationships
 */
export declare abstract class BaseQueryBuilder extends ModelQueryBuilder implements RelationQueryBuilderContract<LucidModel, LucidRow> {
    /**
     * A flag to know, if query builder is instantiated for
     * eager loading or not.
     */
    isEagerQuery: boolean;
    constructor(builder: knex.QueryBuilder, client: QueryClientContract, relation: RelationshipsContract, dbCallback: DBQueryCallback);
    /**
     * Returns the profiler action. Protected, since the class is extended
     * by relationships
     */
    protected getQueryData(): knex.Sql & {
        connection: string;
        inTransaction: boolean;
        model: string;
        eagerLoading: boolean;
        relation: any;
    };
    /**
     * Profiler data for the relationship
     */
    protected abstract profilerData(): any;
    /**
     * Returns the sql query keys for the join query
     */
    protected abstract getRelationKeys(): string[];
    /**
     * The relationship query builder must implement this method
     * to apply relationship related constraints
     */
    protected abstract applyConstraints(): void;
    /**
     * Returns the name of the query action. Used mainly for
     * raising descriptive errors
     */
    protected queryAction(): string;
    /**
     * Selects the relation keys. Invoked by the preloader
     */
    selectRelationKeys(): this;
    /**
     * Get query sql
     */
    toSQL(): knex.Sql;
    /**
     * Execute query
     */
    exec(): Promise<any[]>;
}
